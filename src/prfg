#!/usr/bin/python3 -u

import argparse
import random
import sys


# creates a bytearray of given size filled with a sequence of pseudorandomly generated values based on the given seed
def pseudo_random_bytearray(seed, size):
    # initializes the pseudorandom generator with the given seed
    random.seed(seed)
    # generates and returns the bytearray
    return bytearray(random.getrandbits(8) for _ in range(0, int(size)))


if __name__ == "__main__":
    # argumentparser : the best way to handle program arguments in python
    argparser = argparse.ArgumentParser(description="Pseudorandom file generator.")

    argparser.add_argument("seed", help="seed of the pseudorandom generator")
    argparser.add_argument("size", help="size (bytes) of the generated file")

    args = argparser.parse_args()

    # writes the contents of the generated bytearray to stdout
    sys.stdout.buffer.write(pseudo_random_bytearray(args.seed, args.size))
